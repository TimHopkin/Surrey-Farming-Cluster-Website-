{"ast":null,"code":"import React,{useEffect,useRef}from'react';import L from'leaflet';import'leaflet/dist/leaflet.css';import{sampleFarms}from'../data/farms';import{jsx as _jsx}from\"react/jsx-runtime\";const FarmMap=_ref=>{let{selectedFarmId,onFarmSelect}=_ref;const mapRef=useRef(null);const mapInstanceRef=useRef(null);useEffect(()=>{if(!mapRef.current)return;const map=L.map(mapRef.current).setView([51.2362,-0.5704],10);mapInstanceRef.current=map;L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png',{attribution:'Â© OpenStreetMap contributors'}).addTo(map);const customIcon=L.divIcon({className:'custom-farm-marker',html:\"<div style=\\\"\\n        background-color: #2E7D32;\\n        width: 24px;\\n        height: 24px;\\n        border-radius: 50%;\\n        border: 3px solid white;\\n        box-shadow: 0 2px 4px rgba(0,0,0,0.3);\\n        display: flex;\\n        align-items: center;\\n        justify-content: center;\\n        color: white;\\n        font-weight: bold;\\n        font-size: 12px;\\n      \\\">\\uD83C\\uDF3E</div>\",iconSize:[30,30],iconAnchor:[15,15]});sampleFarms.forEach(farm=>{const marker=L.marker([farm.location.lat,farm.location.lng],{icon:customIcon}).addTo(map);marker.bindPopup(\"\\n        <div style=\\\"min-width: 200px;\\\">\\n          <h3 style=\\\"margin: 0 0 8px 0; font-size: 16px; font-weight: bold; color: #2E7D32;\\\">\\n            \".concat(farm.name,\"\\n          </h3>\\n          <p style=\\\"margin: 0 0 8px 0; font-size: 14px; color: #666;\\\">\\n            \").concat(farm.type,\"\\n          </p>\\n          <p style=\\\"margin: 0 0 12px 0; font-size: 13px; color: #444; line-height: 1.4;\\\">\\n            \").concat(farm.description.substring(0,100),\"...\\n          </p>\\n          <div style=\\\"margin-bottom: 8px;\\\">\\n            <strong style=\\\"font-size: 12px; color: #555;\\\">Products:</strong>\\n            <div style=\\\"margin-top: 4px;\\\">\\n              \").concat(farm.products.slice(0,3).map(product=>\"<span style=\\\"\\n                  background: #f0f0f0; \\n                  padding: 2px 6px; \\n                  border-radius: 12px; \\n                  font-size: 11px; \\n                  margin-right: 4px;\\n                  display: inline-block;\\n                  margin-bottom: 2px;\\n                \\\">\".concat(product,\"</span>\")).join(''),\"\\n            </div>\\n          </div>\\n          <button \\n            onclick=\\\"window.location.href='/farms/\").concat(farm.id,\"'\\\"\\n            style=\\\"\\n              background: #2E7D32; \\n              color: white; \\n              border: none; \\n              padding: 6px 12px; \\n              border-radius: 4px; \\n              cursor: pointer; \\n              font-size: 12px;\\n              width: 100%;\\n            \\\"\\n          >\\n            View Farm Details\\n          </button>\\n        </div>\\n      \"));marker.on('click',()=>{if(onFarmSelect){onFarmSelect(farm.id);}});if(selectedFarmId===farm.id){marker.openPopup();map.setView([farm.location.lat,farm.location.lng],12);}});return()=>{if(mapInstanceRef.current){mapInstanceRef.current.remove();mapInstanceRef.current=null;}};},[selectedFarmId,onFarmSelect]);return/*#__PURE__*/_jsx(\"div\",{ref:mapRef,className:\"w-full h-96 rounded-lg border border-gray-300\",style:{minHeight:'400px'}});};export default FarmMap;","map":{"version":3,"names":["React","useEffect","useRef","L","sampleFarms","jsx","_jsx","FarmMap","_ref","selectedFarmId","onFarmSelect","mapRef","mapInstanceRef","current","map","setView","tileLayer","attribution","addTo","customIcon","divIcon","className","html","iconSize","iconAnchor","forEach","farm","marker","location","lat","lng","icon","bindPopup","concat","name","type","description","substring","products","slice","product","join","id","on","openPopup","remove","ref","style","minHeight"],"sources":["/Users/timhopkin/Documents/Software Development/Surrey Farming Cluster Website /src/components/FarmMap.tsx"],"sourcesContent":["import React, { useEffect, useRef } from 'react';\nimport L from 'leaflet';\nimport 'leaflet/dist/leaflet.css';\nimport { sampleFarms } from '../data/farms';\n\ninterface FarmMapProps {\n  selectedFarmId?: string;\n  onFarmSelect?: (farmId: string) => void;\n}\n\nconst FarmMap: React.FC<FarmMapProps> = ({ selectedFarmId, onFarmSelect }) => {\n  const mapRef = useRef<HTMLDivElement>(null);\n  const mapInstanceRef = useRef<L.Map | null>(null);\n\n  useEffect(() => {\n    if (!mapRef.current) return;\n\n    const map = L.map(mapRef.current).setView([51.2362, -0.5704], 10);\n    mapInstanceRef.current = map;\n\n    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {\n      attribution: 'Â© OpenStreetMap contributors'\n    }).addTo(map);\n\n    const customIcon = L.divIcon({\n      className: 'custom-farm-marker',\n      html: `<div style=\"\n        background-color: #2E7D32;\n        width: 24px;\n        height: 24px;\n        border-radius: 50%;\n        border: 3px solid white;\n        box-shadow: 0 2px 4px rgba(0,0,0,0.3);\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        color: white;\n        font-weight: bold;\n        font-size: 12px;\n      \">ðŸŒ¾</div>`,\n      iconSize: [30, 30],\n      iconAnchor: [15, 15]\n    });\n\n    sampleFarms.forEach((farm) => {\n      const marker = L.marker([farm.location.lat, farm.location.lng], { icon: customIcon })\n        .addTo(map);\n\n      marker.bindPopup(`\n        <div style=\"min-width: 200px;\">\n          <h3 style=\"margin: 0 0 8px 0; font-size: 16px; font-weight: bold; color: #2E7D32;\">\n            ${farm.name}\n          </h3>\n          <p style=\"margin: 0 0 8px 0; font-size: 14px; color: #666;\">\n            ${farm.type}\n          </p>\n          <p style=\"margin: 0 0 12px 0; font-size: 13px; color: #444; line-height: 1.4;\">\n            ${farm.description.substring(0, 100)}...\n          </p>\n          <div style=\"margin-bottom: 8px;\">\n            <strong style=\"font-size: 12px; color: #555;\">Products:</strong>\n            <div style=\"margin-top: 4px;\">\n              ${farm.products.slice(0, 3).map(product => \n                `<span style=\"\n                  background: #f0f0f0; \n                  padding: 2px 6px; \n                  border-radius: 12px; \n                  font-size: 11px; \n                  margin-right: 4px;\n                  display: inline-block;\n                  margin-bottom: 2px;\n                \">${product}</span>`\n              ).join('')}\n            </div>\n          </div>\n          <button \n            onclick=\"window.location.href='/farms/${farm.id}'\"\n            style=\"\n              background: #2E7D32; \n              color: white; \n              border: none; \n              padding: 6px 12px; \n              border-radius: 4px; \n              cursor: pointer; \n              font-size: 12px;\n              width: 100%;\n            \"\n          >\n            View Farm Details\n          </button>\n        </div>\n      `);\n\n      marker.on('click', () => {\n        if (onFarmSelect) {\n          onFarmSelect(farm.id);\n        }\n      });\n\n      if (selectedFarmId === farm.id) {\n        marker.openPopup();\n        map.setView([farm.location.lat, farm.location.lng], 12);\n      }\n    });\n\n    return () => {\n      if (mapInstanceRef.current) {\n        mapInstanceRef.current.remove();\n        mapInstanceRef.current = null;\n      }\n    };\n  }, [selectedFarmId, onFarmSelect]);\n\n  return (\n    <div \n      ref={mapRef} \n      className=\"w-full h-96 rounded-lg border border-gray-300\"\n      style={{ minHeight: '400px' }}\n    />\n  );\n};\n\nexport default FarmMap;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}